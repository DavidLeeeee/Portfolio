<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./image.css" />
    <script type="text/javascript" src="image.js"></script>
    <title>Image</title>
  </head>
  <body>
    <!-- Object-Fit -->
    <section id="sizingImg">
      <div>
        <div>
          <select class="selectBox" id="imgSelecter">
            <option class="customSelect" value="9_16">9:16</option>
            <option class="customSelect" value="3_4">3:4</option>
            <option class="customSelect" value="4_1">4:1</option>
          </select>
          <label for="imgSelecter">Image Options</label>
          <br />
          <select class="selectBox" id="fitSelecter">
            <option class="customSelect" value="fill">fill</option>
            <option class="customSelect" value="contain">contain</option>
            <option class="customSelect" value="cover">cover</option>
            <option class="customSelect" value="none">none</option>
          </select>
          <label for="fitSelecter">Fit Options</label>
        </div>
        <div style="margin-top: 32px">
          Width/Height Options
          <div id="vertical">
            <div class="controller" id="verticalController"></div>
            <div class="controllerValue">
              <p>100</p>
              <p>1000</p>
            </div>
          </div>
          <div id="horizontal">
            <div class="controller" id="horizontalController"></div>
            <div class="controllerValue">
              <p>100</p>
              <p>1000</p>
            </div>
          </div>
        </div>
      </div>
      <div style="width: 1000px" id="aspectRatioContainer">
        <div
          id="sized_Box"
          style="width: 100px; height: 100px; border: 2px solid black"
        >
          <img src="../../../assets/16_9.jpg" width="100%" height="100%" />
        </div>
      </div>
    </section>
    <!-- Aspect -->
    <section id="Aspect">
      <div>
        <select class="selectBox" id="aspectSelecter">
          <option class="customSelect" value="1 / 1">1 / 1</option>
          <option class="customSelect" value="9 / 16">9 / 16</option>
          <option class="customSelect" value="3 / 4">3 / 4</option>
          <option class="customSelect" value="3 / 1">3 / 1</option>
        </select>
        <label for="aspectSelecter">Aspect Ratio Box </label>
        <p>
          현재 높이는 고정값이다.<br />Aspect로 가로/세로 박스의 비율을 지정한다
          <br />2개의 축이 모두 값이 설정되면 이는 적용되지 않는다.<br />
          상단의 object-fit과 함께 사용해보자
        </p>
      </div>
      <div style="width: 1000px">
        <div
          id="sized_Box2"
          style="
            height: 300px;
            margin-bottom: 20px;
            background-color: rgb(255, 0, 0);
            border: 2px solid black;
          "
        >
          <img src="../../../assets/16_9.jpg" width="100%" height="100%" />
        </div>
      </div>
    </section>
    <section id="Load" style="flex-direction: column">
      <article>
        <ul>
          <h3>Raster >></h3>
          <li>jpeg</li>
          <li>gif</li>
          <li>png</li>
        </ul>
      </article>
      <article>
        <ul>
          <h3>Vector >></h3>
          <li>svg</li>
        </ul>
      </article>
      <article class="arti">
        <h2>손실이미지/무손실이미지</h2>
        <p>
          손실이미지 : 화질 감소를 감수하면서 사이즈를 줄여 빠른 렌더링을 한다.
          일반적으로 100%~75%까지는 눈치채지 못한다고 한다. 다양한 플랫폼의
          썸네일같은 곳에서 손실이미지가 사용된다.
        </p>
        <p>
          무손실이미지 : 원본 이미지에서 렌더링에 필요하지 않은 정보들을 제거한
          이미지. 따라서 원본보다 용량이 줄어들 수 있다. GIF, PNG등이 이에
          포함된다.
        </p>
        <table>
          <thead>
            <tr>
              <th>Format</th>
              <th>압축률</th>
              <th>압축방식</th>
              <th>애니메이션</th>
              <th>투명</th>
              <th>Progressive Image</th>
              <th>지원브라우저</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>GIF</td>
              <td>보통</td>
              <td>무손실</td>
              <td>지원</td>
              <td>미지원</td>
              <td>지원</td>
              <td>모든 브라우저</td>
            </tr>
            <tr>
              <td>PNG</td>
              <td>보통</td>
              <td>무손실</td>
              <td>미지원</td>
              <td>지원</td>
              <td>지원</td>
              <td>모든 브라우저</td>
            </tr>
            <tr>
              <td>JPEG</td>
              <td>높음</td>
              <td>손실</td>
              <td>미지원</td>
              <td>미지원</td>
              <td>지원</td>
              <td>모든 브라우저</td>
            </tr>
            <tr>
              <td>JPEG 2000</td>
              <td>매우 높음</td>
              <td>손실/무손실</td>
              <td>지원</td>
              <td>지원</td>
              <td>지원</td>
              <td>사파리</td>
            </tr>
            <tr>
              <td>JPEG XR</td>
              <td>매우 높음</td>
              <td>손실/무손실</td>
              <td>지원</td>
              <td>지원</td>
              <td>지원</td>
              <td>인터넷 익스플로러, 엣지</td>
            </tr>
          </tbody>
        </table>
      </article>
      <article class="arti">
        <h3>WebP</h3>
        <p>
          손실압축과 비손실압축을 지원한다. 25%~35%정도로 압축을 할 수 있다.
          투명, 애니메이션 기능도 지원하므로 GIF, PNG, JPEG 등의 상용 이미지
          포맷을 대체 가능. Progressive Image 기능을 지원하지 않는다.
        </p>
        <h3>AVIF</h3>
        <p>
          손실압축과 비손실압축을 지원한다. WebP보다도 더 높은 압축 성능을
          지원한다. 최신 포맷인 만큼 낮은 범용성으로 지원 뷰어/브라우저가 한정적
          단순패턴이미지 압축에는 PNG보다 안좋은 수도 있다.
        </p>
      </article>
      <article class="arti">
        <h3>사이즈에 맞는 적절한 이미지 제공</h3>
        <p>
          미디어 쿼리 사용 : @media를 이용해 각각 다른 이미지를 적용하는
          방식이다. 단, 이 방식은 CSS의 back-ground image를 사용하는데, 이는
          비효율적인 img사용방식이다. <br />fetch (HTML => CSS => Image) VS
          (HTML => Image)
        </p>
        <h3>img태그의 srcset속성</h3>
        <p>
          브라우저가 사용하는 연산 방식이나 메모리, 혹은 파워가 충분한지에 따라
          낮은 해상도가 선택될 수도 있고, 해상도별로 다른 비율의 이미지를
          사용하거나 부분만 확대한 이미지를 사용할 때 이미지가 비정상적으로
          보이는 이슈가 존재. 이미지를 숨겨도 이미지를 다운로드하고 이미지를
          줄여도 다른 이미지가 보여지지 않는 문제
        </p>
        <h3>picture태그 사용</h3>
        <p>
          위 작성된 img 태그의 단점을 보완. 특정 브라우저에서 특정 이미지를
          사용할 수 있도록 강제할 수 있으며, 조건에 맞지 않는 이미지는 다운로드
          하지 않는다. HTML 소스가 길어진다는 점과 IE 및 안드로이드 구버전
          브라우저에서는 지원하지 않는다는 점이 단점입니다. (다만 pollyfill을
          사용하면 어느정도 해결은 가능)
        </p>
      </article>
      <article class="arti">
        <h3>Lazy Loading</h3>
        <p>
          웹사이트의 이미지는 최대한 사용자가 보이는 부분부터 로드되도록
          처리하며, 사용자가 보이지 않는 부분은 Lazy Loading을 적용하여 사용자의
          사용자 경험 저하를 막을 수 있도록 합니다. 사용자가 처음부터 보지 않는
          부분을 초기 렌더링 시 로드하게 되면 정작 사용자가 보이는 화면의 로딩
          시간이 지연되게 됩니다.
        </p>
        <h3>이미지 CDN</h3>
        <p>
          이미지 변환, 최적화 및 전송을 담당하는 서버로, 이미지 CDN을 사용하면
          이미지 다운로드 속도를 40%~80%로 줄일 수 있습니다. 또한 Image CDN에서
          로드된 이미지의 경우 이미지 URL에 따라 다양한 이미지를 요청할 수
          있습니다. 게다가 CDN을 사용하게 되면 HTTP 캐시를 이용하여 이미지
          캐싱이 가능해지게 됩니다. 다만 이러한 CDN을 활용한 캐시는 삭제하기
          쉽지 않기 때문에 적절한 Cache-Control과 max-age를 통하여 제어해야
          합니다.
        </p>
        <h3>이미지 Sprite</h3>
        <p>
          Sprite 이미지란, 여러 개의 이미지를 합친 하나의 이미지 셋을 말합니다.
          첫 페이지 로딩속도를 줄여주는 가장 대표적인 방법이며, 이미지 최적화
          기법 중에서도 가장 쉬운 방법의 하나입니다. 이렇게 하면,
          네트워크상에서는 실제로 10번의 이미지 요청을 1번의 요청으로 해결을 할
          수가 있으며, 트래픽이 절약되는 효과도 가져올 수 있습니다. 대표적으로
          아이콘이나 버튼 같은 이미지들을 하나로 합쳐 배경 이미지로 만들어 놓고
          position 값으로 각각의 이미지들을 잘라서 사용하는 방식입니다.
        </p>
      </article>
    </section>
  </body>
</html>
